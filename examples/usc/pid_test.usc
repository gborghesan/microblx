--- Overlay the basic PID controller example to export the controller
--- output

return bd.system {
   imports = { "stdtypes", "mqueue" },

   subsystems = {
      controller = bd.load("pid.usc")
   },

   blocks = {
      { name="mq_1", type="mqueue" },
   },

   configurations = {
      {
	 name="mq_1", config = {
	    mq_name="/controller_pid-out",
	    type_name = 'double',
	    data_len = 10,
	    buffer_len = 3 }
      },
   },

   connections = {
      { src = "controller/pid_1.out", tgt = "mq_1" },
   }
}
